# üîê –ú–µ—Ö–∞–Ω–∏–∫–∞ —Å–∫—Ä—ã—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –ø–ª–∞–≥–∏–Ω–æ–≤

## –ß—Ç–æ —ç—Ç–æ?

–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Å–∫–∏—Ä—É–µ—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (API –∫–ª—é—á–∏, –ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã) –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–ª–∞–≥–∏–Ω–æ–≤ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø–ª–∞–≥–∏–Ω–æ–≤

–ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ `"secret": true` –∫ –ª—é–±–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –≤ –≤–∞—à–µ–º `package.json`:

```json
{
  "botpanel": {
    "settings": {
      "apiKey": {
        "type": "string",
        "label": "API –∫–ª—é—á",
        "default": "",
        "secret": true  // ‚ú® –í–æ—Ç –∏ –≤—Å—ë!
      }
    }
  }
}
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç?

**–î–æ:**
```javascript
// –§—Ä–æ–Ω—Ç–µ–Ω–¥ –≤–∏–¥–µ–ª —Ä–µ–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
{ "apiKey": "sk-abc123xyz789secret" }
```

**–ü–æ—Å–ª–µ:**
```javascript
// –§—Ä–æ–Ω—Ç–µ–Ω–¥ –≤–∏–¥–∏—Ç –º–∞—Å–∫—É:
{ "apiKey": "********" }
```

## –ü—Ä–∏–º–µ—Ä—ã

### ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–º–µ—á–∞—Ç—å –∫–∞–∫ secret

```json
{
  "apiKey": { "type": "string", "secret": true },
  "password": { "type": "string", "secret": true },
  "token": { "type": "string", "secret": true },
  "apiKeys": { "type": "string[]", "secret": true },
  "proxyPassword": { "type": "string", "secret": true }
}
```

### ‚ùå –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ –ø–æ–º–µ—á–∞—Ç—å –∫–∞–∫ secret

```json
{
  "serverUrl": { "type": "string" },
  "username": { "type": "string" },
  "port": { "type": "number" },
  "enabled": { "type": "boolean" }
}
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. **–ü—Ä–∏ —á—Ç–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫** - —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ `********`
2. **–ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫** - –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ = `********`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ë–î
3. **–ü–ª–∞–≥–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç** —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `settings` –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ **–ó–∞—â–∏—â–∞–µ—Ç –æ—Ç:**
- –£—Ç–µ—á–∫–∏ —á–µ—Ä–µ–∑ UI
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –õ–æ–≥–æ–≤ –±—Ä–∞—É–∑–µ—Ä–∞
- –°–ª—É—á–∞–π–Ω–æ–≥–æ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –≤ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞—Ö

‚ùå **–ù–ï –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç:**
- –ü—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î
- Server-side –ª–æ–≥–æ–≤
- –î–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ

## API

### –£—Ç–∏–ª–∏—Ç—ã

```javascript
const { 
  filterSecretSettings,      // –ú–∞—Å–∫–∏—Ä—É–µ—Ç —Å–µ–∫—Ä–µ—Ç—ã –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏
  prepareSettingsForSave,    // –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—ã –ø—Ä–∏ –∑–∞–ø–∏—Å–∏
  isSecretSetting,           // –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–µ–∫—Ä–µ—Ç–Ω–∞—è –ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
  isMaskedValue              // –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–æ –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ
} = require('./secretsFilter');
```

### Endpoints —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

- `GET /api/bots/:botId/plugins/:pluginId/settings`
- `PUT /api/bots/:botId/plugins/:pluginId`
- `GET /api/bots/:id/settings/all`

## –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. [SECRETS_DOCUMENTATION.md](./SECRETS_DOCUMENTATION.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

## Changelog

### v1.0.0 (2025-11-07)
- ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Ç—Ä–∏–±—É—Ç–∞ `secret` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–ª–∞–≥–∏–Ω–æ–≤
- üîí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ GET –∑–∞–ø—Ä–æ—Å–∞—Ö
- üíæ –£–º–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- üìù –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—ã—á–Ω—ã—Ö –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- üéØ –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö: string, string[], object, number, boolean

## –ê–≤—Ç–æ—Ä—ã

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –¥–ª—è BlockMind Bot Panel

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ß–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ BlockMind

